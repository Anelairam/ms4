{% extends "base.html" %}

<!-- The page renders data from the DB, sorted based on the dish category from the menu_item model -->

{% block content %}
<!-- Page summary -->
    <div class="container" id="menu_container">
        {% if messages %}
            {% for message in messages %}
            <div class="row alert alert-success" role="alert">
                <div class="col">
                {{ message }}
                </div>
            </div>
            {% endfor %}
        {% endif %}
        <div class="row page_description">
            <div class="col">
                <h2><i class="fas fa-utensils"></i> Menu <i class="fas fa-utensils"></i></h2>
                <p>A large variety of options and choices are listed in our menus. <br>
                    In case you have any questions regarging ingredients and allergies please do not hesitate to call us!
                </p>
            </div>
            {% if  user.username == "admin" %}
                <a href="{% url 'add' %}">Add item <i class="fas fa-plus"></i></a>
            {% endif %}
        </div>
        <!-- Rendered DB content based on the starter category -->
        <div class="row">
            <div class="col">
                <div class="dish_type_title">
                    <h2>Starters</h2>
                </div>
                <hr>
                {% for starter in starters %}
                    <div class="row">
                        <div class="col">
                            {% if  user.username == "admin" %}
                                <h3 class="dish_title"> 
                                    {{ starter.title}}
                                    <a href="{% url 'edit' starter.id %}">
                                        <i class="far fa-edit"></i>
                                    </a>
                                    <a href="{% url 'delete' starter.id %}" class="delete_btn" onclick="messageDisplay">
                                        <i class="fas fa-trash-alt"></i>
                                    </a>
                                </h3>
                            {% else %}
                                <h3 class="dish_title"> {{ starter.title}} </h3>
                            {% endif %}
                            <div class="dish_info">
                                <p> {{ starter.components }}</p>
                                <p>{{ starter.price}} €</p>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <!-- Rendered DB content based on the main course category -->
        <div class="row">
            <div class="col">
                <div class="dish_type_title">
                    <h2>Main Course</h2>
                </div>
                <hr>                
                {% for main in mains %}
                    <div class="row">
                        <div class="col">
                            {% if  user.username == "admin" %}
                                <h3 class="dish_title"> 
                                    {{ main.title}} 
                                    <a href="{% url 'edit' main.id %}">
                                        <i class="far fa-edit"></i>
                                    </a>
                                    <a href="{% url 'delete' main.id %}" class="delete_btn" onclick="messageDisplay">
                                        <i class="fas fa-trash-alt"></i>
                                    </a>
                                </h3>
                            {% else %}
                                <h3 class="dish_title"> {{ main.title}} </h3>
                            {% endif %}
                            <div class="dish_info">
                                <p> {{ main.components }}</p>
                                <p>{{ main.price}} €</p>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <!-- Rendered DB content based on the desert category -->
        <div class="row">
            <div class="col">
                <div class="dish_type_title">
                    <h2>Deserts</h2>
                </div>
                <hr>
                {% for desert in deserts %}
                    <div class="row">
                        <div class="col">
                            {% if  user.username == "admin" %}
                                <h3 class="dish_title"> 
                                    {{ desert.title}} 
                                    <a href="{% url 'edit' desert.id %}">
                                        <i class="far fa-edit"></i>
                                    </a>
                                    <a href="{% url 'delete' desert.id %}" class="delete_btn" onclick="messageDisplay">
                                        <i class="fas fa-trash-alt"></i>
                                    </a>
                                </h3>
                            {% else %}
                                <h3 class="dish_title"> {{ desert.title}} </h3>
                            {% endif %}
                            <div class="dish_info">
                                <p> {{ desert.components }}</p>
                                <p>{{ desert.price}} €</p>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>            
        </div>
    </div>
{% endblock %}